@using FreeSqlBuilder.Core.Utilities
@using FreeSqlBuilder.TemplateEngine.Utilities
@using CurdTask = FreeSqlBuilder.TemplateEngine.CurdTask
@model CurdTask
@{
    var table = Model.CurrentTable;
}
@($"{table.Comment}删除".GetCSharpSummary())
public async Task<@("bool")> Delete@(table.CsName)(List@($"<{Reflection.ToCsType(table.Primarys.FirstOrDefault()?.CsType)}>") ids){
@($@"
      using var uow = _freeSql.CreateUnitOfWork();
      var rep = _freeSql.GetRepository<{Model.CurrentTable.CsName}>();
      rep.UnitOfWork = uow;
      await rep.DeleteAsync(x=>ids.Contains(x.Id));
      uow.Commit();
      return true;
")
}