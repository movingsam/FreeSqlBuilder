@using FreeSqlBuilder.TemplateEngine.Utilities
@model FreeSqlBuilder.TemplateEngine.IBuilderTask
@{
    Layout = "_Layout.cshtml";
    var table = Model.CurrentTable;
    var builder = Model.CurrentBuilder;
    var name = builder.GetName(table.CsName);
    var nameSpace = Model.Project.ProjectInfo.NameSpace;
    var isTree = (table.Properties.Keys.Intersect(new[] { "Level", "ParentId", "Parent", "Children", "NodePath", "IsDeleted", "Enabled" })).Count() == 7;
    var baseClass = isTree ? $"ITreeRepository<{table.CsName},{table.GetPrimarysName()},{table.GetPrimarysName()}?,I{nameSpace}DbContext>"
        : $"IRepository<{table.CsName},I{nameSpace}DbContext>";
}

using System;
using System.Collections.Generic;
using System.Text;
using SFast.Infrastructure.Datas.Repository;
using @table.Type.Namespace;
using SFast.Core;

namespace @(nameSpace)@(Model.CurrentBuilder.ReplaceTablePath(table.CsName).Replace("/", "."))
{
    public interface @name : @baseClass
    {
    }
    }