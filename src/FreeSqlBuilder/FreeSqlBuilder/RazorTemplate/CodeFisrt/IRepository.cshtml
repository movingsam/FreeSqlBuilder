@using FreeSqlBuilder.TemplateEngine.Utilities
@model FreeSqlBuilder.TemplateEngine.IBuilderTask
@{
    Layout = "_Layout.cshtml";
    var table = Model.CurrentTable;
    var builder = Model.CurrentBuilder;
    var name = builder.GetName(table.CsName);
    var isTree = (table.Properties.Keys.Intersect(new[] { "Level", "ParentId", "Parent", "Children", "NodePath", "IsDeleted", "Enabled" })).Count() == 7;
    var baseClass = isTree ? $"ITreeRepository<{table.CsName},{table.GetPrimarysName()},{table.GetPrimarysName()}?,IDbContext>"
        : $"IRepository<{table.CsName},IDbContext>";
}

using System;
using System.Collections.Generic;
using System.Text;
using SFast.Infrastructure.Datas.Repository;
using @table.Type.Namespace;
using SFast.Core;

namespace @(Model.CurrentBuilder.ReplaceTablePath(table.CsName).Replace("/", "."))
{
    public interface @name : @baseClass
    {
    }
    }