@using FreeSqlBuilder.TemplateEngine.Utilities
@using FreeSqlBuilder.Core.Utilities
@model FreeSqlBuilder.TemplateEngine.IBuilderTask
@{
    Layout = "_Layout.cshtml"; 
    var table = Model.CurrentTable;
    var builder = Model.CurrentBuilder;
    var nameSpace = Model.Project.ProjectInfo.NameSpace;
    var navigates = table.Properties.Keys.Except(table.Columns.Keys);

}

@table.GetNameSpaceUsing()

namespace @(nameSpace).@(Model.CurrentBuilder.ReplaceTablePath(table.CsName).Replace("/","."))
{
    @($"{table.Comment}Dto".GetCSharpSummary())
    public class @builder.GetName(table.CsName) : DtoBase<@table.GetPrimarysName()>
    {
        @foreach (var column in table.Columns)
        {
        @if (column.Key == "Id")
         {
             continue;
         }
        @(column.Value.Comment.GetCSharpSummary())
        @Html.NewLine()
        @:public  @column.Value.GetCsTypeName() @column.Value.CsName { get; set; }
        @Html.NewLine()
        }
        @foreach (var nav in navigates) { 
        @:public @Reflection.ToCsType(table.Properties.FirstOrDefault(p=>p.Key == nav).Value.PropertyType) @nav { get; set; }
        }
    }
}