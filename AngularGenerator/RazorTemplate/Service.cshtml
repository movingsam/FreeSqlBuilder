@using FreeSql.TemplateEngine
@model FreeSql.TemplateEngine.BuildTask
@{
    Layout = "_Layout.cshtml";
    var project = Model.Project;
    var table = Model.CurrentTable;
}


using System;
using System.Collections.Generic;
using System.Text;
using GRES.Abstractes.Repositories;
using GRES.Framework.Services;
using Microsoft.Extensions.DependencyInjection;

namespace @(project.ProjectInfo.ProjectName).Implaments.Services
{
    @($"{(string.IsNullOrWhiteSpace(table.Comment) ? table.Name : table.Comment)}服务".GetCSharpSummary())
    public class  @(project.GetBuilder("Service").GetName(table.Name)) : ServiceBase, I@(project.GetBuilder("Service").GetName(table.Name))
    {
        private readonly I@(project.GetBuilder("Repository").GetName(table.Name))  _@(table.Name.ToLower())@("Rep");
        @("构造函数".GetCSharpSummary())
        public @(project.GetBuilder("Service").GetName(table.Name))(IServiceProvider service)
        {
            _@(table.Name.ToLower())@("Rep") = service.GetRequiredService<@($"I{project.GetBuilder("Repository").GetName(table.Name)}")>();
        }
    }
}